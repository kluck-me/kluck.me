var Novelint;Novelint=function(){function n(){this.lintsSet={}}return n.matcher=function(n,t){return function(e){var r,i,l,o;for(o=[];l=n.exec(e);)t&&!t(l)||(r=l.index,i=0,l[2]?(r+=l[1].length,i=l[2].length):l[1]&&(i=l[1].length),o.push([r,r+i]));return o}},n.prototype.add=function(n,t){var e;((e=this.lintsSet)[n]||(e[n]=[])).push(t)},n.prototype.addLint=function(t,e,r){this.add(t,n.matcher(e,r))},n.prototype.review=function(n,t){var e,r,i,l,o,u,h,s,c,f,a,p,g,d;null==t&&(t={}),n=n.replace(/\r\n?/g,"\n"),g=[];for(c in this.lintsSet)if(!1!==t[c])for(r=0,u=(a=this.lintsSet[c]).length;r<u;r++)for(i=0,h=(p=a[r].call(this,n)).length;i<h;i++)f=p[i],g.push([""+c].concat(f));for(f=[],e={},o=0,s=g.length;o<s;o++)e[l=(d=g[o]).join("\n")]||(e[l]=!0,f.push([""+d[0],d[1],d[1]],[null,d[1],d[2]]));return f.sort(function(n,t){return n[2]-t[2]||n[1]-t[1]||(null===n[0]?1:null===t[0]?-1:0)}),{indexes:f,length:f.length/2}},n}();