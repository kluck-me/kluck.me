window.onYouTubeIframeAPIReady=function(){var t,e,a,n;n=[],t=function(t,e,a){var n,r,o,u;for(o=0,u=t.length-1;o<=u;)if(r=u+o>>1,(n=a(e,t[r]))>0)o=r+1;else{if(!(n<0))return r;u=r-1}return-o-1},a=function(){var e;return player&&player.getCurrentTime&&null!=(e=player.getCurrentTime())&&n.forEach(function(a,n){var r;(r=t(a,e,function(t,e){return t>e.end?1:t<e.start?-1:0}))<0?$("#sub_"+n).html("&nbsp;"):$("#sub_"+n).html(a[r].text)}),requestAnimationFrame(a)},e=function(t){var e;e=t.target,$("#form-url,#form-subs").find("[disabled]").prop("disabled",!1),$("#form-subs").submit(function(){return n.splice(0,n.length),$("#subs").empty(),$("#conf-subs option:selected").each(function(t){var e;$("<div>").attr("id","sub_"+t).appendTo("#subs"),e=n[t]=[],$.get({url:"//video.google.com/timedtext",data:$(this).data("params"),dataType:"xml"}).done(function(t){$("transcript>text",t).each(function(){var t,a,n;t=$(this),n=parseFloat(t.attr("start")),a=parseFloat(t.attr("dur")),e.push({start:n,end:n+a,text:t.text()})})})}),!1}),$("#form-url").submit(function(){var t,a;return a=null!=(t=/v=([^=&?]+)/.exec(this.url.value))?t[1]:void 0,$.get({url:"//video.google.com/timedtext",data:{type:"list",v:a},dataType:"xml"}).done(function(t){var e;e=$("#conf-subs").val(),$("#conf-subs").empty(),$("transcript_list>track",t).each(function(){var t;t=$(this),$("<option>").text(""+t.attr("lang_original")).data({params:{name:t.attr("name"),lang:t.attr("lang_code"),v:a}}).val(""+t.attr("lang_code")).appendTo("#conf-subs")}),$("#conf-subs").val(e),$("#form-subs").submit()}),e.loadVideoById(a),!1}),a(),"localhost"===location.hostname&&($("#conf-url").val("https://www.youtube.com/watch?v=sLv6FfHlxmI"),$("#form-url").submit(),setTimeout(function(){return $("#conf-subs").val(["en","ja"]),$("#conf-url").val("https://www.youtube.com/watch?v=-sGiE10zNQM"),$("#form-url").submit()},1e3))},window.player=new YT.Player("player",{height:"360",width:"640",events:{onReady:e}})};