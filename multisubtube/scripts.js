window.onYouTubeIframeAPIReady=function(){var t,e,n,a,o,r;r=[],t=function(t,e,n){var a,o,r,c;for(r=0,c=t.length-1;r<=c;)if(o=c+r>>1,(a=n(e,t[o]))>0)r=o+1;else{if(!(a<0))return o;c=o-1}return-r-1},n=function(){var t;return null!=(t=/v=([^=&?]+)/.exec($("#conf-url").val()))?t[1]:void 0},e=function(){var t;return t={},$('#conf-subs input[type="checkbox"][name^="lang-"]').each(function(){var e;(e=$(this)).prop("checked")&&(t[e.val()]=e.data("params"))}),t},a=function(t){var a;a=t.target,$("#conf-modal").on("show.bs.modal",function(){$("#conf-url").val(a.getVideoUrl()).trigger("input")}),$("#conf-url").on("input",function(){var t;t=n(),pp("videoId:",t),t&&$.get({url:"//video.google.com/timedtext",data:{type:"list",v:t},dataType:"xml"}).done(function(n){var a;a=e(),pp("langs:",a),$("#conf-subs").empty(),$("transcript_list>track",n).each(function(){var e,n,o;o=(n=$(this)).attr("lang_code"),e=$("<div>").addClass("checkbox"),$("<label>").append($("<input>").attr({type:"checkbox",name:"lang-"+o,value:o}).data({params:{name:n.attr("name"),lang:o,v:t}}).prop("checked",!!a[o]),document.createTextNode(n.attr("lang_original"))).appendTo(e),e.appendTo("#conf-subs")})})}),$("#save-conf").click(function(){var t;$("#subs").empty(),r.splice(0,r.length),Object.values(e()).forEach(function(t,e){var n;$("<div>").attr("id","sub-"+e).html("&nbsp;").appendTo("#subs"),n=r[e]=[],$.get({url:"//video.google.com/timedtext",data:t,dataType:"xml"}).done(function(t){$("transcript>text",t).each(function(){var t,e,a;t=$(this),a=parseFloat(t.attr("start")),e=parseFloat(t.attr("dur")),n.push({start:a,end:a+e,text:t.text()})})})}),t=n(),a.getVideoData().video_id!==t&&a.loadVideoById(t),$("#conf-modal").modal("hide")}),$("#conf-modal").modal("show"),"localhost"===location.hostname&&setTimeout(function(){$("#conf-url").val("https://www.youtube.com/watch?v=sLv6FfHlxmI").trigger("input"),setTimeout(function(){$('#conf-subs [name="lang-en"], #conf-subs [name="lang-ja"]').prop("checked",!0),$("#conf-url").val("https://www.youtube.com/watch?v=-sGiE10zNQM").trigger("input"),setTimeout(function(){$("#save-conf").click()},500)},500)},500)},(o=function(){var e;return player&&player.getCurrentTime&&null!=(e=player.getCurrentTime())&&r.forEach(function(n,a){var o;(o=t(n,e,function(t,e){return t>e.end?1:t<e.start?-1:0}))<0?$("#sub-"+a).html("&nbsp;"):$("#sub-"+a).html(n[o].text)}),requestAnimationFrame(o)})(),window.player=new YT.Player("ytplayer",{height:"480",width:"853",events:{onReady:a}})};