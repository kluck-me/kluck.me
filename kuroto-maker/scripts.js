var $form,anchor,canvas,ctx,fill_circle,fill_spiral_circle,form,img,update_canvas;$form=$(".col-sm-4 form"),form=$form[0],anchor=$(".col-sm-4 a")[0],canvas=$(".col-sm-8 canvas")[0],ctx=canvas.getContext("2d"),fill_circle=function(a,c,t){ctx.beginPath(),ctx.arc(a,c,t,0,2*Math.PI,!1),ctx.closePath(),ctx.fill()},fill_spiral_circle=function(a,c,t,l){var e,i,n,r;r=parseFloat(t),e=6/Math.PI,n=Math.PI*r,i=e*n,fill_circle(a+i*Math.cos(n),c+i*Math.sin(n),parseFloat(l))},update_canvas=function(){ctx.fillStyle="white",ctx.fillRect(0,0,canvas.width,canvas.height),ctx.drawImage(img,0,0,canvas.width,canvas.height),ctx.fillStyle="black",fill_spiral_circle(85,172,form.left_eye_pos.value,form.left_eye_size.value),fill_spiral_circle(179,178,form.right_eye_pos.value,form.right_eye_size.value),anchor.href=canvas.toDataURL()},img=new Image,img.src="kuroto.jpg",img.onload=function(){update_canvas(),$form.find('input[type="range"]').change(update_canvas)},$form.find("button").click(function(){return $form.find("input").each(function(){this.value=this.defaultValue,update_canvas()}),!1});