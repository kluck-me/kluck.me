parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"MrZ7":[function(require,module,exports) {
function n(n){return a(n)||e(n)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function e(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}function a(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function r(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function i(n,t,e){return t&&r(n.prototype,t),e&&r(n,e),n}(function(){var t,e,a,r,s,l,u,c,d;t=function(){var n,t=function(){function t(){o(this,t),this.id=null,this.subs=null,this.langs=null,this.langCodes=[]}return i(t,[{key:"update",value:function(n){return this.id!==n&&(this.id=n,this.subs=null,this.langs=null,!0)}},{key:"setLangCodes",value:function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];this.langCodes=t}},{key:"hasLangCode",value:function(n){return this.langCodes.indexOf(n)>-1}},{key:"addLangCode",value:function(n){this.hasLangCode(n)||(this.langCodes=this.langCodes.concat([n]).sort())}},{key:"removeLangCode",value:function(n){var t;(t=this.langCodes.indexOf(n))>-1&&(this.langCodes=this.langCodes.concat().splice(t,1))}},{key:"getCurrentHtmls",value:function(t){var e;return e=this,this.langCodes.map(function(a){var o,r;return e.subs&&(o=e.subs[a],null!=t&&o&&(r=n(o,t,function(n,t){return n>t.end?1:n<t.start?-1:0}))>=0)?o[r].text:null})}},{key:"fetchSubs",value:function(){var n;this.langs?(n=this,this.subs||(this.subs={}),this.langCodes.forEach(function(t){var e,a;(e=n.langs[t])&&(n.subs[t]||(a=n.subs[t]=[],$.get({url:"//video.google.com/timedtext",data:e.params,dataType:"xml"}).done(function(n){$("transcript>text",n).each(function(){var n,t,e;n=$(this),e=parseFloat(n.attr("start")),t=parseFloat(n.attr("dur")),a.push({start:e,end:e+t,text:n.text()})})})))})):this.fetchLangs(function(){this.fetchSubs()})}},{key:"fetchLangs",value:function(n){var t;this.langs||this.id&&(t=this,this.langs={},$.get({url:"//video.google.com/timedtext",data:{type:"list",v:this.id},dataType:"xml"}).done(function(e){$("transcript_list>track",e).each(function(){var n,e;e=(n=$(this)).attr("lang_code"),t.langs[e]={label:n.attr("lang_original"),params:{name:n.attr("name"),lang:e,v:t.id}}}),n.call(t)}))}}]),t}();return n=function(n,t,e){var a,o,r,i;for(r=0,i=n.length-1;r<=i;)if((a=e(t,n[o=i+r>>1]))>0)r=o+1;else{if(!(a<0))return o;i=o-1}return-r-1},t}.call(this),d=new t,(l=function(){var n;(n=$("#subs>div")).length!==d.langCodes.length&&(n.remove(),d.langCodes.forEach(function(n,t){return $("<div>").attr("id","sub-".concat(t)).appendTo("#subs")})),d.getCurrentHtmls("undefined"!=typeof player&&null!==player&&"function"==typeof player.getCurrentTime?player.getCurrentTime():void 0).forEach(function(n,t){$("#sub-".concat(t)).html(n||"&nbsp;")}),requestAnimationFrame(l)})(),e=null,a=function(){var n;return n=[],$('#conf-subs input[name^="lang-"]:checked').each(function(){n.push($(this).val())}),n},c=function(n){$("#conf-url").val(n||"").trigger("input")},u=function(){$('#conf-subs input[name^="lang-"]').prop("checked",!1).trigger("change");for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];t.forEach(function(n){$('#conf-subs input[name="lang-'.concat(n,'"]')).prop("checked",!0).trigger("change")})},$("#conf-url").on("input",function(){var t,o;o=null!=(t=/v=([^=&?]+)/.exec($(this).val()))?t[1]:void 0,e.update(o),e.fetchLangs(function(){var t;(t=e).setLangCodes.apply(t,n(a())),$("#conf-subs").empty(),Object.keys(e.langs).sort().forEach(function(n){var t;t=$("<div>").addClass("checkbox"),$("<label>").append($("<input>").attr({type:"checkbox",name:"lang-".concat(n),value:n}).prop("checked",e.hasLangCode(n)).change(function(){var n;n=$(this),e[$(this).prop("checked")?"addLangCode":"removeLangCode"](n.val())}),document.createTextNode(e.langs[n].label)).appendTo(t),t.appendTo("#conf-subs")})})}),$("#modal-conf form").submit(function(n){n.preventDefault(),n.stopPropagation(),$("#modal-conf").modal("hide"),d=e,e=null,player.getVideoData().video_id!==d.id&&player.loadVideoById(d.id)}),$("#modal-conf").on("show.bs.modal",function(){var a;e?e.langCodes:d.langCodes,(a=e=new t).setLangCodes.apply(a,n(d.langCodes)),c("undefined"!=typeof player&&null!==player?player.getVideoUrl():void 0)}),r=function(n){var t;n.target;$("#modal-conf").modal("show"),"localhost"===location.hostname&&(t=function(n){return setTimeout(n,500)})(function(){return c("https://www.youtube.com/watch?v=sLv6FfHlxmI"),t(function(){return u("en","ja"),c("https://www.youtube.com/watch?v=-sGiE10zNQM"),t(function(){return $("#modal-conf .btn-primary").click()})})})},s=function(n){var t=n.target;d.update(t.getVideoData().video_id),d.fetchSubs()},window.onYouTubeIframeAPIReady=function(){window.player=new YT.Player("ytplayer",{height:"480",width:"853",events:{onReady:r,onStateChange:s}})}}).call(this);
},{}]},{},["MrZ7"], null)