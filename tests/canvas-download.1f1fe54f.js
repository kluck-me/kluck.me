var load_image=function(n){return new Promise((function(o,t){var e=n.img=new Image;e.crossOrigin="anonymous",e.onload=function(){o(n)},e.onerror=function(){t(n)},e.src=n.url}))};Promise.all([{url:"https://4.bp.blogspot.com/-Anllqq6pDXw/VRUSesbvyAI/AAAAAAAAsrc/CIHz6vLsuTU/s800/computer_jinkou_chinou.png",x:180,y:40,w:90},{url:"https://4.bp.blogspot.com/-4xxTe_qeV1E/Vd7FkNUlwjI/AAAAAAAAxFc/8u9MNKtg7gg/s800/syachiku.png",x:0,y:0,w:300}].map(load_image)).then((function(n){for(var o=$("canvas")[0].getContext("2d"),t=n.length-1;t>=0;t--){var e=n[t];o.drawImage(e.img,e.x,e.y,e.w,e.w/e.img.width*e.img.height)}})),$("button").click((function(){return $("canvas")[0].toBlob((function(n){var o=document.createElement("a");o.href=window.URL.createObjectURL(n),o.download="canvas-download.png",o.click(),URL.revokeObjectURL(o.url)})),!1}));