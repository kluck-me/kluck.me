!function(){function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},i=t.parcelRequire8333;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},t.parcelRequire8333=i),i.register("5gML4",(function(t,n){e(t.exports,"RecursiveFunction",(function(){return s})),e(t.exports,"toTypings",(function(){return u})),e(t.exports,"moveBefore",(function(){return h})),e(t.exports,"getClassName",(function(){return f})),e(t.exports,"createElement",(function(){return v})),e(t.exports,"findCaret",(function(){return m})),e(t.exports,"findOrCreateCaret",(function(){return y})),e(t.exports,"toPattern",(function(){return g})),e(t.exports,"clear",(function(){return N})),e(t.exports,"updateByTypings",(function(){return T})),e(t.exports,"removeTextNode",(function(){return x})),e(t.exports,"removeFromNode",(function(){return b})),e(t.exports,"remove",(function(){return j})),e(t.exports,"addTextNode",(function(){return F})),e(t.exports,"updateConverts",(function(){return E})),e(t.exports,"addFromNode",(function(){return w})),e(t.exports,"addToElement",(function(){return D})),e(t.exports,"add",(function(){return O}));var o=i("fNRGU"),r=function(){},a=function(e,t){e>0?setTimeout(t,e):t()},s=function(){"use strict";function e(t){var n=t.onStart,i=void 0===n?r:n,a=t.onCall,s=void 0===a?r:a,p=t.onFinish,d=void 0===p?r:p,l=t.onStopped,c=void 0===l?r:l;o.classCallCheck(this,e),this.finish=new Error("finish: ".concat(Math.random())),this.stop=new Error("stop"),this.started=!1,this.finished=!1,this.onStart=i,this.onCall=s,this.onFinish=d,this.onStopped=c}return o.createClass(e,[{key:"call",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this;if(this.finished)throw new Error("finished");a(t,(function(){try{n.started||(n.started=!0,n.onStart()),e.call(n)}catch(e){if(e===n.finish)n.callFinish();else{if(e!==n.stop)throw e;n.callStop()}}}))}},{key:"callFinished",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this;if(this.finished)throw new Error("finished");this.finished=!0,a(t,(function(){e.call(n)}))}},{key:"callFinish",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.callFinished(this.onFinish,e)}},{key:"callStop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.callFinished(this.onStopped,e)}},{key:"next",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=this;this.call((function(){return r.onCall.apply(r,o.toConsumableArray(n))}),e)}}]),e}();o.defineProperty(s,"Stop",(function e(){"use strict";o.classCallCheck(this,e)}));var p=o.slicedToArray(function(){var e={"ん":["ｎ","ん"],"っ":["ｘ","ｘｔ","っ"]},t={"ｋ":"かきくけこ","ｇ":"がぎぐげご","ｓ":"さしすせそ","ｚ":"ざじずぜぞ","ｔ":"たちつてと","ｄ":"だぢづでど","ｎ":"なにぬねの","ｈ":"はひふへほ","ｂ":"ばびぶべぼ","ｐ":"ぱぴぷぺぽ","ｍ":"まみむめも","ｙ":"やゆよ","ｒ":"らりるれろ","ｗ":"わを"},n=["ゃ","ゅ","ょ"];["ぁ","ぃ","ぅ","ぇ","ぉ"].forEach((function(t){e[t]=["ｘ",t]})),n.forEach((function(t){e[t]=["ｘ","ｘｙ",t]}));var o=[];return Object.keys(t).forEach((function(i){var r=t[i].split("");if(r.forEach((function(t){e[t]=[i,t]})),5===r.length){var a=r[1];o.push(a),n.forEach((function(t){var n="".concat(a).concat(t);e[n]="じ"===a?["ｊ",n]:[i,"".concat(i,"ｙ"),n]}))}})),[e,new RegExp("[".concat(o.join(""),"][").concat(n.join(""),"]|."),"g")]}(),2),d=p[0],l=p[1],c=function(e,t){return"っ"===e&&d[t]?[d[t][0]]:"ん"===e&&d[t]&&d[t][0]!==d[e][0]?[d[e][0]]:d[e]||[e]},u=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.match(l)||[],o=[],i="",r=0;r<n.length;r+=1){var a=n[r],s=c(a,n[r+1]),p=i;s.forEach((function(e){o.push("".concat(t).concat(p).concat(e))})),i+=a}return o},h=function(e,t){if(!e.parentNode||!t.parentNode)throw new Error("Not found parentNode");for(;e.firstChild;)e.firstChild.nodeType===Node.ELEMENT_NODE?h(e.firstChild,t):t.parentNode.insertBefore(e.firstChild,t);e.parentNode.removeChild(e)},f=function(e){return e.filter((function(e){return!!e})).join(" ")},v=function(e,t){var n=document.createElement(e);return n.className=f(t),n},m=function(e,t,n){return e.querySelector("".concat(t).concat(n.filter((function(e){return!!e})).map((function(e){return".".concat(e)}))))},y=function(e,t,n){return m(e,t,n)||v(t,n)},g=function(e){return Array.isArray(e)?function(e){return!(!e||"string"!=typeof e[0])}(e)?{ime:!1,inputs:e}:{inputs:e[0],converts:e[1]}:e},S="­",C=new RegExp(S,"g"),N=function(e){for(var t=e.firstChild,n=!1;t;)if(t.nodeType===Node.TEXT_NODE){var o=t;t=t.nextSibling,n?e.removeChild(o):o.nodeValue=S,n=!0}else t.nodeType===Node.ELEMENT_NODE&&N(t),n=!1,t=t.nextSibling},T=function(e,t,n){var o=n.delay,i=void 0===o?0:o,r=n.speed,a=void 0===r?20:r,p=n.onStart,d=n.onTyping,l=n.onFinish,c=n.onStopped;new s({onStart:p,onFinish:l,onStopped:c,onCall:function(n){if(t.length<=n)throw this.finish;e.nodeValue=t[n],d&&d.call(this),this.next(1e3/a,n+1)}}).next(i,0)},x=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delay,i=t.removeDelay,r=t.speed,a=t.removeSpeed,s=o.objectWithoutProperties(t,["delay","removeDelay","speed","removeSpeed"]),p="".concat(e.nodeValue||""),d=[],l=p.length;l>=0;l-=1)d.push(p.slice(0,l)||S);T(e,d,o.objectSpread({},s,{delay:i||n||0,speed:a||r||40}))},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delay,i=t.removeDelay,r=t.speed,a=t.removeSpeed,p=t.onStart,d=t.onFinish,l=t.onStopped,c=o.objectWithoutProperties(t,["delay","removeDelay","speed","removeSpeed","onStart","onFinish","onStopped"]),u=1e3/(a||r||40);new s({onStart:p,onFinish:d,onStopped:l,onCall:function(e){var t=this;if(!e)throw this.finish;e.nodeType===Node.ELEMENT_NODE?b(e.lastChild,o.objectSpread({},c,{removeDelay:u,speed:r,removeSpeed:a,onFinish:function(){var n=e.previousSibling;e.parentNode.removeChild(e),t.next(0,n)}})):e.nodeType===Node.TEXT_NODE?x(e,o.objectSpread({},c,{removeDelay:u,speed:r,removeSpeed:a,onFinish:function(){var n=e.previousSibling;e.parentNode.removeChild(e),t.next(0,n)}})):this.next(0,e.previousSibling)}}).next(i||n||0,e)},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delay,i=t.removeDelay,r=t.speed,a=t.removeSpeed,p=t.caretTagName,d=void 0===p?"span":p,l=t.caretClassName,c=void 0===l?"jatyping-caret":l,u=t.removeCaret,h=void 0!==u&&u,f=t.onStart,v=t.onFinish,g=t.onStopped,C=o.objectWithoutProperties(t,["delay","removeDelay","speed","removeSpeed","caretTagName","caretClassName","removeCaret","onStart","onFinish","onStopped"]),N=1e3/(a||r||40),T=e.lastChild;d&&(T=e.appendChild(y(e,d,[c])).previousSibling),new s({onStart:f,onFinish:function(){if(h&&d){var t=m(e,d,[c]);t&&e.removeChild(t)}e.firstChild||e.appendChild(document.createTextNode(S)),v&&v.call(this)},onStopped:g,onCall:function(e){var t=this;b(e,o.objectSpread({},C,{removeDelay:N,speed:r,removeSpeed:a,onFinish:function(){t.callFinish()},onStopped:function(){t.callStop()}}))}}).next(i||n||0,T)},F=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.delay,r=void 0===i?0:i,a=n.speed,p=void 0===a?20:a,d=n.removeSpeed,l=void 0===d?40:d,c=n.onStart,h=n.onTyping,f=n.onFinish,v=n.onStopped,m=o.objectWithoutProperties(n,["delay","speed","removeSpeed","onStart","onTyping","onFinish","onStopped"]);new s({onStart:c,onFinish:f,onStopped:v,onCall:function(n){var i=this;if(t.length<=n)throw this.finish;var r=t[n],a="".concat(e.nodeValue||"").replace(C,"");if(r.startsWith(a)){var s=this,d=u(r.slice(a.length),a);T(e,d,o.objectSpread({},m,{delay:1e3/p,speed:p,onTyping:h,onFinish:function(){s.next(1e3/p,n+1)},onStopped:function(){s.callStop()}}))}else x(e,o.objectSpread({},m,{removeDelay:1e3/l,removeSpeed:l,onTyping:function(){h&&h.call(this);var t="".concat(e.nodeValue||"").replace(C,"");if(r.startsWith(t))throw this.finish},onFinish:function(){i.next(1e3/p,n)},onStopped:function(){i.callStop()}}))}}).next(r,0)},E=function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.delay,a=i.convertDelay,p=i.speed,d=i.convertSpeed,l=i.inputTagName,c=void 0===l?"span":l,u=i.inputTypingClassName,h=void 0===u?"jatyping-typing":u,m=i.inputConvertClassName,y=void 0===m?"jatyping-convert":m,g=i.onStart,S=i.onTyping,C=i.onFinish,N=i.onStopped,T=f([h,y]),x=f([h]),b=1e3/(d||p||10);new s({onStart:g,onFinish:C,onStopped:N,onCall:function(){if(!n.length)throw this.finish;var e=o.slicedToArray(n[0],3),t=e[0],i=e[1],r=e[2];r.length?i.nodeValue=r.shift():(n.shift(),n.length&&(n[0][0].className=T,t.className=x)),S&&S.call(this),this.next(b)}}).call((function(){for(;e.firstChild;)e.removeChild(e.firstChild);for(n=t.map((function(t,n){var o=v(c,n?[h]:[h,y]),i=o.appendChild(document.createTextNode(t[0]));return e.appendChild(o),[o,i,t.slice(1)]}));n[n.length-1]&&!n[n.length-1][2].length;)n.pop();this.next(b)}),a||r||0)},w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.convertSpeed,r=void 0===i?10:i,a=n.inputTagName,s=void 0===a?"span":a,p=n.inputClassName,d=void 0===p?"jatyping-input":p,l=n.inputTypingClassName,c=void 0===l?"jatyping-typing":l,u=n.onStart,f=n.onFinish,m=n.onStopped,y=o.objectWithoutProperties(n,["convertSpeed","inputTagName","inputClassName","inputTypingClassName","onStart","onFinish","onStopped"]),S=g(t),C=document.createTextNode(""),N=v(s,[d]);!1===S.ime?N.appendChild(C):N.appendChild(v(s,[c])).appendChild(C),e.parentNode.insertBefore(N,e),F(C,S.inputs,o.objectSpread({},y,{onStart:u,onStopped:m,onFinish:function(){!1!==S.ime&&S.converts?E(N,S.converts,o.objectSpread({},y,{convertSpeed:r,inputTagName:s,inputTypingClassName:c,onFinish:function(){h(N,N),f&&f.call(this)},onStopped:m})):(h(N,N),f&&f.call(this))}}))},D=function(e,t){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.delay,p=void 0===a?0:a,d=r.speed,l=void 0===d?20:d,c=r.caretTagName,u=void 0===c?"span":c,h=r.caretClassName,f=void 0===h?"jatyping-caret":h,v=r.removeCaret,g=void 0!==v&&v,S=r.onStart,C=r.onFinish,N=r.onStopped,T=o.objectWithoutProperties(r,["delay","speed","caretTagName","caretClassName","removeCaret","onStart","onFinish","onStopped"]),x=1e3/l;i=u?e.appendChild(y(e,u,[f])):e.lastChild||(n=e.appendChild(document.createTextNode(""))),new s({onStart:S,onFinish:function(){if(g&&u){var t=m(e,u,[f]);t&&e.removeChild(t)}else n&&e.removeChild(n);C&&C.call(this)},onStopped:N,onCall:function(e){var n=this;if(t.length<=e)throw this.finish;w(i,t[e],o.objectSpread({},T,{delay:x,speed:l,onFinish:function(){n.next(x,e+1)},onStopped:function(){n.callStop()}}))}}).next(p||0,0)},A=function(e,t,n){if(t.hasAttribute(n)){var o=t.getAttribute(n);e.push([t,JSON.parse(o)])}else for(var i=t.firstChild;i;i=i.nextSibling)i.nodeType===Node.ELEMENT_NODE&&A(e,i,n)},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delay,i=void 0===n?0:n,r=t.speed,a=void 0===r?20:r,p=t.caretTagName,d=void 0===p?"span":p,l=t.caretClassName,c=void 0===l?"jatyping-caret":l,u=t.removeCaret,h=void 0!==u&&u,f=t.patternsAttributeName,v=void 0===f?"data-jatyping":f,g=t.onStart,S=t.onFinish,C=t.onStopped,T=o.objectWithoutProperties(t,["delay","speed","caretTagName","caretClassName","removeCaret","patternsAttributeName","onStart","onFinish","onStopped"]),x=[];A(x,e,v),x.forEach((function(e){var t=o.slicedToArray(e,1)[0];N(t)}));var b=1e3/a;new s({onStart:function(){if(g&&g.call(this),d){var t=m(e,d,[c]);t&&t.parentNode.removeChild(t)}},onFinish:function(){!h&&d&&e.appendChild(y(e,d,[c])),S&&S.call(this)},onStopped:C,onCall:function(e){var t=this;if(x.length<=e)throw this.finish;var n=o.slicedToArray(x[e],2),i=n[0],r=n[1];D(i,r,o.objectSpread({},T,{delay:b,speed:a,caretTagName:d,removeCaret:!0,onFinish:function(){t.next(0,e+1)},onStopped:function(){t.callStop()}}))}}).next(i||0,0)}}));var r,a,s,p,d,l,c,u=i("fNRGU");r=jQuery,a=i("5gML4"),s=a.remove,p=a.addToElement,d=a.add,l=function(e,t,n){return function(){t&&setTimeout((function(){t.call(n||this)}),e||0)}},c=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];for(var i={},a=0;a<e.length;a+=1){var s=e[a];if(r.isPlainObject(s)){r.extend(i,s);break}for(var p=0;p<n.length;p+=1){var d=u.slicedToArray(n[p],2),l=d[0],c=d[1];if("function"==typeof c&&c(s)||(void 0===s?"undefined":u.typeOf(s))===c){i[l]=s,n.splice(p,1);break}}}return i},r.fn.jatyping=function(){var e=r.extend({},r.fn.jatyping.defaults,c(arguments,["patterns",Array.isArray],["complete","function"],["completeDelay","number"]));return r.fn.jatyping.assertOptions(e),this.each((function(){var t=this,n=l(e.completeDelay,e.complete,this),o=e.update?function(){e.update.call(t)}:void 0,i=u.objectSpread({},e,{onTyping:o,onFinish:n});e.patterns?p(this,e.patterns,i):r(this).find("[".concat(e.patternsAttribute,"]")).length?d(this,u.objectSpread({},i,{patternsAttributeName:e.patternsAttribute})):s(this,i)}))},r.fn.jatyping.assertOptions=function(e){for(var t in e){var n=e[t],o=this.defaults[t];if(o&&(void 0===n?"undefined":u.typeOf(n))!==(void 0===o?"undefined":u.typeOf(o)))throw new Error("invalid options.".concat(t,": ").concat(n))}},r.fn.jatyping.defaults={patternsAttribute:"data-jatyping",caretTagName:"span",caretClassName:"jatyping-caret",removeCaret:!0,inputTagName:"span",inputClassName:"jatyping-input",inputTypingClassName:"jatyping-typing",inputConvertClassName:"jatyping-convert",speed:12.5,delay:150,convertSpeed:6,convertDelay:150,removeSpeed:40,removeDelay:150}}();